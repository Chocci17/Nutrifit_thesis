<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BMI Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="BMI.css">
</head>
<body>
  <!-- Background Video -->
  <video id="bg-video" autoplay muted loop playsinline>
    <source src="back_ground.mp4" type="video/mp4">
  </video>

  <!-- Sidebar Overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
  
  <!-- Dropdown Sidebar -->
  <div class="dropdown-sidebar" id="dropdownSidebar">
    <div class="sidebar-item" onclick="navigateTo('Profile.html')">
      <div class="sidebar-item-icon">üë§</div>
      <div>Profile</div>
    </div>
    
    <div class="sidebar-divider"></div>
    
    <div class="sidebar-item" onclick="openTermsModal()">
      <div class="sidebar-item-icon">üìÑ</div>
      <div>Terms and Conditions</div>
    </div>
    
    <div class="sidebar-item" onclick="openAboutModal()">
      <div class="sidebar-item-icon">‚ÑπÔ∏è</div>
      <div>About</div>
    </div>
    
    <div class="sidebar-divider"></div>
    
    <div class="sidebar-item" onclick="logout()" style="color: #ef4444;">
      <div class="sidebar-item-icon">üö™</div>
      <div>Log Out</div>
    </div>
  </div>

  <!-- Top Navigation Bar -->
  <div class="navbar">
    <!-- Logo -->
    <div class="navbar-brand" onclick="toggleSidebar()">
      <img class="navbar-logo" src="NutriFit.png" alt="NutriFit Logo">
      NutriFit
    </div>

    <!-- Navigation Tabs -->
    <div class="navbar-links-container">
      <a href="#meal-log" onclick="navigateTo('Meal log.html'); return false;">Meal Log</a>
      <a href="#bmi-progress" onclick="navigateTo('BMI.html'); return false;">BMI Tracker</a>
      <a href="#exercise-plans" onclick="navigateTo('exercise plans.html'); return false;">Dynamic Exercise Plans</a>
      <a href="#meal-suggestions" onclick="navigateTo('meal suggestions.html'); return false;">Meal Suggestions</a>
      <a href="#nutrifit-analytics" onclick="navigateTo('Nutrifit Analytics.html'); return false;">Nutrifit Analytics</a>
    </div>
  </div>

  <div class="container">
    <div class="main-grid">
      <!-- Calculator Card -->
      <div class="card">
        <h2>BMI Calculator</h2>
        
        <div class="unit-toggle">
          <button class="unit-btn active" onclick="setUnit('metric')">Metric</button>
          <button class="unit-btn" onclick="setUnit('imperial')">Imperial</button>
        </div>

        <form id="bmiForm">
          <div class="form-group">
            <label for="recordDate">Record Date</label>
            <input type="date" id="recordDate" required>
          </div>

          <div class="form-group">
            <label for="weight">Weight (<span id="weightUnit">kg</span>)</label>
            <input type="number" id="weight" step="0.1" placeholder="Enter your weight" required>
          </div>

          <div class="form-group">
            <label for="height">Height (<span id="heightUnit">cm</span>)</label>
            <input type="number" id="height" step="0.1" placeholder="Enter your height" required>
          </div>

          <div class="form-group">
            <label for="age">Age (optional)</label>
            <input type="number" id="age" placeholder="Enter your age">
          </div>

          <div class="form-group">
            <label for="gender">Gender (optional)</label>
            <select id="gender">
              <option value="">Select gender</option>
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>

          <button type="submit" class="calculate-btn">Calculate BMI</button>
        </form>
      </div>

      <!-- Color Wheel Card -->
      <div class="card">
        <h2>Your BMI Result</h2>
        
        <div class="gauge-container" id="gaugeContainer">
          <div class="color-wheel" id="colorWheel">
            <div class="wheel-center" id="wheelCenter">
              <div class="wheel-bmi-value" id="wheelBmiValue" style="display: none;">0.0</div>
              <div class="wheel-bmi-label" id="wheelBmiLabel" style="display: none;">BMI</div>
            </div>
          </div>

          <div class="bmi-value" id="result" style="display: none;">
            <div class="bmi-number" id="bmiNumber">0.0</div>
            <div class="bmi-category" id="bmiCategory"></div>
          </div>

          <div class="initial-message" id="initialMsg">
            Enter your details and click calculate to see your BMI
          </div>

          <div class="bmi-legend">
            <div class="legend-item">
              <div class="legend-color" style="background: #3b82f6;"></div>
              <div class="legend-label">Underweight</div>
              <div class="legend-range">&lt; 18.5</div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #10b981;"></div>
              <div class="legend-label">Normal</div>
              <div class="legend-range">18.5 - 24.9</div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #fbbf24;"></div>
              <div class="legend-label">Overweight</div>
              <div class="legend-range">25 - 29.9</div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #f97316;"></div>
              <div class="legend-label">Obese</div>
              <div class="legend-range">30 - 39.9</div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #ef4444;"></div>
              <div class="legend-label">Extremely Obese</div>
              <div class="legend-range">‚â• 40</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Progress Tracker Card -->
      <div class="card">
        <h2>Progress Tracker</h2>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-value" id="totalRecords">0</div>
            <div class="stat-label">Total Records</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="avgBMI">--</div>
            <div class="stat-label">Average BMI</div>
          </div>
        </div>

        <div class="tracker-scroll" id="progressList">
          <div class="empty-state">
            <div class="empty-state-icon">üìä</div>
            <p>No progress records yet. Calculate your BMI to get started!</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- About NutriFit Modal -->
  <div id="aboutModal" class="about-modal">
    <div class="about-modal-content">
      <button class="about-modal-close" onclick="closeAboutModal()">&times;</button>
      
      <!-- LEFT: Text -->
      <div class="about-text">
        <div class="eyebrow">
          <span class="eyebrow-dot"></span>
          <span>About</span>
          <span>NutriFit</span>
        </div>

        <h1 class="about-title">ABOUT NUTRIFIT</h1>

        <p class="about-tagline">
          The foundation of a sound, happy life starts with what you nourish yourself with.
        </p>

        <p class="about-body">
          NutriFit holds the view that the appropriate nutrition is the foundation of a sound and happy life.
          Our mission is to enhance people's lives with new and research-based solutions that encourage
          individuals to make informed, healthy choices and develop long-term exercise habits.
        </p>

        <p class="about-body">
          With accuracy and intent, NutriFit allows users to effortlessly keep track of their daily food
          consumption, get a grip on the nutritional values, and reach their individual wellness goals.
          It really does not matter if you are going for a new fitness adventure or just keeping a balanced
          lifestyle, NutriFit will always be there with the right tools and insights for your development ‚Äî
          whenever and wherever.
        </p>

        <p class="about-body">
          Not only are we a nutrition website but also we are a community of people that inspire each other
          to reach a healthier state. The NutriFit brand does not just count calories; it is a river of
          power, growth, and health that starts from within and expands outside.
        </p>
      </div>

      <!-- RIGHT: NutriFit Logo -->
      <div class="about-graphic-wrapper">
        <div class="watermelon-card">
          <img src="NutriFit.png" alt="NutriFit Logo" style="width: 80%; height: auto; object-fit: contain;">
        </div>
      </div>
    </div>
  </div>

  <!-- Terms and Conditions Modal -->
  <div id="termsModal" class="terms-modal">
    <div class="terms-modal-content">
      <button class="terms-modal-close" onclick="closeTermsModal()">&times;</button>
      
      <div class="terms-header">
        <div class="terms-icon">üìÑ</div>
        <h1 class="terms-title">Terms and Conditions</h1>
      </div>

      <div class="terms-content">
        <p>
          By creating an account with NutriFit, you agree to our use of your personal data to provide personalized health and fitness services. You also agree not to misuse the platform, share false information, or violate any applicable laws. NutriFit is not a substitute for professional medical advice. Always consult your physician before beginning any fitness program.
        </p>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="../JAVA/profile-check.js"></script>
  <script src="../JAVA/BMI.js"></script>
</body>
</html>
