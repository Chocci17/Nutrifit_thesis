<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Profile - NutriFit</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="CSS/Profile.css">
</head>
<body>
  <!-- Background Video -->
  <video id="bg-video" autoplay muted loop playsinline>
    <source src="back_ground.mp4" type="video/mp4">
  </video>

  <!-- Sidebar Overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
  
  <!-- Dropdown Sidebar -->
  <div class="dropdown-sidebar" id="dropdownSidebar">
    <div class="sidebar-item" onclick="navigateTo('Profile.html')">
      <div class="sidebar-item-icon">üë§</div>
      <div>Profile</div>
    </div>
    
    <div class="sidebar-divider"></div>
    
    <div class="sidebar-item" onclick="openTermsModal()">
      <div class="sidebar-item-icon">üìÑ</div>
      <div>Terms and Conditions</div>
    </div>
    
    <div class="sidebar-item" onclick="openAboutModal()">
      <div class="sidebar-item-icon">‚ÑπÔ∏è</div>
      <div>About</div>
    </div>
    
    <div class="sidebar-divider"></div>
    
    <div class="sidebar-item" onclick="logout()" style="color: #ef4444;">
      <div class="sidebar-item-icon">üö™</div>
      <div>Log Out</div>
    </div>
  </div>

  <!-- Top Navigation Bar -->
  <div class="navbar">
    <div class="navbar-brand" onclick="toggleSidebar()">
      <img class="navbar-logo" src="HTML/NutriFit.png" alt="NutriFit Logo">
      NutriFit
    </div>

    <div class="navbar-links-container">
      <a href="#meal-log" onclick="navigateTo('Meal log.html'); return false;">Meal Log</a>
      <a href="#bmi-progress" onclick="navigateTo('BMI.html'); return false;">BMI Tracker</a>
      <a href="#exercise-plans" onclick="navigateTo('exercise plans.html'); return false;">Dynamic Exercise Plans</a>
      <a href="#meal-suggestions" onclick="navigateTo('meal suggestions.html'); return false;">Meal Suggestions</a>
      <a href="#nutrifit-analytics" onclick="navigateTo('Nutrifit Analytics.html'); return false;">Nutrifit Analytics</a>
    </div>
  </div>

  <div class="container">
    <div class="page-header">
      <h1 class="page-title">User Profile</h1>
      <p class="page-subtitle">Manage your personal information and preferences</p>
    </div>

    <div class="profile-layout">
      <!-- Left Sidebar - Profile Card -->
      <div class="profile-card">
        <div class="profile-avatar">üë§</div>
        <h2 class="profile-name" id="userName">John Doe</h2>
        <p class="profile-email" id="userEmail">john.doe@example.com</p>
        
        <div class="profile-stats">
          <div class="stat-item">
            <div class="stat-value" id="statDays">45</div>
            <div class="stat-label">Days Active</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="statMeals">128</div>
            <div class="stat-label">Meals Logged</div>
          </div>
        </div>
      </div>

      <!-- Right Content - Profile Details -->
      <div class="profile-content">
        <!-- Personal Information -->
        <div class="section-card">
          <div class="section-header">
            <h3 class="section-title">
              <span class="section-icon">üìã</span>
              Personal Information
            </h3>
            <button class="edit-btn" onclick="editPersonalInfo()">Edit</button>
          </div>
          
          <div class="info-grid">
            <div class="info-item">
              <div class="info-label">First Name</div>
              <div class="info-value" id="firstName">John</div>
            </div>
            <div class="info-item">
              <div class="info-label">Last Name</div>
              <div class="info-value" id="lastName">Doe</div>
            </div>
            <div class="info-item">
              <div class="info-label">Display Name</div>
              <div class="info-value" id="displayName">JohnD</div>
            </div>
            <div class="info-item">
              <div class="info-label">Email Address</div>
              <div class="info-value" id="email">john.doe@example.com</div>
            </div>
            <div class="info-item">
              <div class="info-label">Age</div>
              <div class="info-value" id="age">28 years</div>
            </div>
            <div class="info-item">
              <div class="info-label">Gender</div>
              <div class="info-value" id="gender">Male</div>
            </div>
            <div class="info-item">
              <div class="info-label">Height</div>
              <div class="info-value" id="height">5'10" (178 cm)</div>
            </div>
            <div class="info-item">
              <div class="info-label">Current Weight</div>
              <div class="info-value" id="weight">165 lbs (75 kg)</div>
            </div>
          </div>
        </div>

        <!-- Fitness Goals -->
        <div class="section-card">
          <div class="section-header">
            <h3 class="section-title">
              <span class="section-icon">üéØ</span>
              Fitness Goals
            </h3>
            <button class="edit-btn" onclick="editFitnessGoals()">Edit Goals</button>
          </div>
          
          <div class="info-grid" style="grid-template-columns: repeat(3, 1fr);">
            <div class="info-item">
              <div class="info-label">Primary Goal</div>
              <div class="info-value" id="primaryGoal">Weight Loss</div>
            </div>
            <div class="info-item">
              <div class="info-label">Target Weight</div>
              <div class="info-value" id="targetWeight">155 lbs (70 kg)</div>
            </div>
            <div class="info-item">
              <div class="info-label">Difficulty</div>
              <div class="info-value" id="difficulty">Intermediate</div>
            </div>
          </div>
        </div>

        <!-- Recent Activity -->
    </div>
  </div>

  <!-- About NutriFit Modal -->
  <div id="aboutModal" class="about-modal">
    <div class="about-modal-content">
      <button class="about-modal-close" onclick="closeAboutModal()">&times;</button>
      
      <div class="about-text">
        <div class="eyebrow">
          <span class="eyebrow-dot"></span>
          <span>About</span>
          <span>NutriFit</span>
        </div>

        <h1 class="about-title">ABOUT NUTRIFIT</h1>

        <p class="about-tagline">
          The foundation of a sound, happy life starts with what you nourish yourself with.
        </p>

        <p class="about-body">
          NutriFit holds the view that the appropriate nutrition is the foundation of a sound and happy life.
          Our mission is to enhance people's lives with new and research-based solutions that encourage
          individuals to make informed, healthy choices and develop long-term exercise habits.
        </p>

        <p class="about-body">
          With accuracy and intent, NutriFit allows users to effortlessly keep track of their daily food
          consumption, get a grip on the nutritional values, and reach their individual wellness goals.
          It really does not matter if you are going for a new fitness adventure or just keeping a balanced
          lifestyle, NutriFit will always be there with the right tools and insights for your development ‚Äî
          whenever and wherever.
        </p>

        <p class="about-body">
          Not only are we a nutrition website but also we are a community of people that inspire each other
          to reach a healthier state. The NutriFit brand does not just count calories; it is a river of
          power, growth, and health that starts from within and expands outside.
        </p>
      </div>

      <div class="about-graphic-wrapper">
        <div class="watermelon-card">
          <img src="HTML/NutriFit.png" alt="NutriFit Logo" style="width: 80%; height: auto; object-fit: contain;">
        </div>
      </div>
    </div>
  </div>

  <!-- Terms and Conditions Modal -->
  <div id="termsModal" class="terms-modal">
    <div class="terms-modal-content">
      <button class="terms-modal-close" onclick="closeTermsModal()">&times;</button>
      
      <div class="terms-header">
        <div class="terms-icon">üìÑ</div>
        <h1 class="terms-title">Terms and Conditions</h1>
      </div>

      <div class="terms-content">
        <p>
          By creating an account with NutriFit, you agree to our use of your personal data to provide personalized health and fitness services. You also agree not to misuse the platform, share false information, or violate any applicable laws. NutriFit is not a substitute for professional medical advice. Always consult your physician before beginning any fitness program.
        </p>
      </div>
    </div>
  </div>

  <!-- Edit Personal Information Modal -->
  <div id="editPersonalModal" class="edit-modal">
    <div class="edit-modal-content">
      <button class="edit-modal-close" onclick="closeEditPersonalModal()">&times;</button>
      
      <div class="edit-modal-header">
        <h2 class="edit-modal-title">Edit Personal Information</h2>
        <p class="edit-modal-subtitle">Update your profile details</p>
      </div>

      <form class="edit-form" id="personalInfoForm" onsubmit="savePersonalInfo(event)">
        <div class="form-group">
          <label for="editFirstName">First Name</label>
          <input type="text" id="editFirstName" placeholder="Enter your first name" required>
        </div>

        <div class="form-group">
          <label for="editLastName">Last Name</label>
          <input type="text" id="editLastName" placeholder="Enter your last name" required>
        </div>

        <div class="form-group">
          <label for="editDisplayName">Display Name</label>
          <input type="text" id="editDisplayName" placeholder="Enter your display name">
        </div>

        <div class="form-group">
          <label for="editEmail">Email Address</label>
          <input type="email" id="editEmail" placeholder="Enter your email" readonly style="background-color: #f3f4f6; cursor: not-allowed;">
        </div>

        <div class="form-group">
          <label for="editAge">Age</label>
          <input type="number" id="editAge" placeholder="Enter your age" min="1" max="120" required>
        </div>

        <div class="form-group">
          <label for="editGender">Gender</label>
          <select id="editGender" required>
            <option value="">Select gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </div>

        <div class="form-group">
          <label for="editHeight">Height</label>
          <input type="text" id="editHeight" placeholder="e.g., 5'10&quot; (178 cm)" required>
        </div>

        <div class="form-group">
          <label for="editWeight">Current Weight</label>
          <input type="text" id="editWeight" placeholder="e.g., 165 lbs (75 kg)" required>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-cancel" onclick="closeEditPersonalModal()">Cancel</button>
          <button type="submit" class="btn-save">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Edit Fitness Goals Modal -->
  <div id="editGoalsModal" class="edit-modal">
    <div class="edit-modal-content">
      <button class="edit-modal-close" onclick="closeEditGoalsModal()">&times;</button>
      
      <div class="edit-modal-header">
        <h2 class="edit-modal-title">Edit Fitness Goals</h2>
        <p class="edit-modal-subtitle">Set your fitness objectives</p>
      </div>

      <form class="edit-form" id="goalsForm" onsubmit="saveGoals(event)">
        <div class="form-group">
          <label for="editPrimaryGoal">Primary Goal</label>
          <select id="editPrimaryGoal" required>
            <option value="">Select your goal</option>
            <option value="Weight Loss">Weight Loss üî•</option>
            <option value="Muscle Gain">Muscle Gain üí™</option>
            <option value="Weight Gain">Weight Gain ‚¨ÜÔ∏è</option>
            <option value="Physically Fit / Balanced">Physically Fit / Balanced üèÉ</option>
          </select>
        </div>

        <div class="form-group">
          <label for="editTargetWeight">Target Weight</label>
          <input type="text" id="editTargetWeight" placeholder="e.g., 155 lbs (70 kg)" required>
        </div>

        <div class="form-group">
          <label for="editDifficulty">Difficulty Level</label>
          <select id="editDifficulty" required>
            <option value="">Select difficulty</option>
            <option value="Beginner">Beginner</option>
            <option value="Intermediate">Intermediate</option>
            <option value="Advanced">Advanced</option>
          </select>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-cancel" onclick="closeEditGoalsModal()">Cancel</button>
          <button type="submit" class="btn-save">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
<script src="JAVA/Profile.js"></script>
</body>
</html>
