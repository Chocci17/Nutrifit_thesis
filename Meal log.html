<!doctype html>
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Meal Log</title>
   <link rel="stylesheet" href="Meal log.css">
</head>
<body>
  <!-- Background Video -->
  <video id="bg-video" autoplay muted loop playsinline>
    <source src="back_ground.mp4" type="video/mp4">
  </video>

  <!-- Sidebar Overlay -->
  <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>
  
  <!-- Dropdown Sidebar -->
  <div class="dropdown-sidebar" id="dropdownSidebar">
    <div class="sidebar-item" onclick="navigateTo('Profile.html')">
      <div class="sidebar-item-icon">üë§</div>
      <div>Profile</div>
    </div>
    
    <div class="sidebar-divider"></div>
    
    <div class="sidebar-item" onclick="openTermsModal()">
      <div class="sidebar-item-icon">üìÑ</div>
      <div>Terms and Conditions</div>
    </div>
    
    <div class="sidebar-item" onclick="openAboutModal()">
      <div class="sidebar-item-icon">‚ÑπÔ∏è</div>
      <div>About</div>
    </div>
    
    <div class="sidebar-divider"></div>
    
    <div class="sidebar-item" onclick="logout()" style="color: #ef4444;">
      <div class="sidebar-item-icon">üö™</div>
      <div>Log Out</div>
    </div>
  </div>

  <!-- Top Navigation Bar -->
  <div class="navbar">
    <!-- Logo -->
    <div class="navbar-brand" onclick="toggleSidebar()">
      <img class="navbar-logo" src="NutriFit.png" alt="NutriFit Logo">
      NutriFit
    </div>

    <!-- Navigation Tabs -->
    <div class="navbar-links-container">
      <a href="#meal-log" onclick="navigateTo('Meal log.html'); return false;">Meal Log</a>
      <a href="#bmi-progress" onclick="navigateTo('BMI.html'); return false;">BMI Tracker</a>
      <a href="#exercise-plans" onclick="navigateTo('exercise plans.html'); return false;">Dynamic Exercise Plans</a>
      <a href="#meal-suggestions" onclick="navigateTo('meal suggestions.html'); return false;">Meal Suggestions</a>
      <a href="#nutrifit-analytics" onclick="navigateTo('Nutrifit Analytics.html'); return false;">Nutrifit Analytics</a>
    </div>
  </div>

  <div class="container">

    <div class="grid">
      <!-- Left: Entry form -->
      <div class="card panel-left">
        <h3>Add Meal</h3>
        <form id="mealForm">
          <div style="margin-bottom:10px">
            <label for="date">Date</label>
            <input id="date" name="date" type="date" required />
          </div>

          <div style="margin-bottom:10px">
            <label for="mealType">Meal type</label>
            <select id="mealType" name="mealType">
              <option>Breakfast</option>
              <option>Lunch</option>
              <option>Dinner</option>
              <option>Snack</option>
            </select>
          </div>

          <div class="row" style="margin-bottom:10px">
            <div style="flex:1"><label for="protein">Protein (g)</label><input id="protein" type="number" min="0" step="1" value="0" /></div>
            <div style="flex:1"><label for="carbs">Carbs (g)</label><input id="carbs" type="number" min="0" step="1" value="0" /></div>
          </div>

          <div class="row" style="margin-bottom:10px">
            <div style="flex:1"><label for="fat">Fat (g)</label><input id="fat" type="number" min="0" step="1" value="0" /></div>
            <div style="flex:1"><label for="cal">Calories (kcal)</label><input id="cal" type="number" min="0" step="1" value="0" /></div>
          </div>

          <div style="margin-bottom:10px">
            <label for="remarks">Remarks</label>
            <textarea id="remarks" placeholder="notes, ingredients, portion size..."></textarea>
          </div>

          <div style="display:flex;gap:8px;justify-content:flex-end">
            <button type="submit" class="btn">Save Meal</button>
            <button type="button" id="clearBtn" class="btn secondary">Clear</button>
          </div>
        </form>

      </div>

      <!-- Middle: Calendar -->
      <div class="card calendar-card">
        <div class="calendar">
          <div class="cal-head">
              <div style="display:flex;gap:8px;align-items:center">
              <button id="prevMonth" class="btn secondary" style="padding:6px 10px">‚óÄ</button>
              <div id="monthTitle" style="font-weight:800"></div>
              <button id="nextMonth" class="btn secondary" style="padding:6px 10px">‚ñ∂</button>
            </div>
            <div class="small muted">Select a day to inspect logged meals</div>
          </div>

          <div class="cal-grid" id="calGrid"></div>
        </div>
      </div>

      <!-- Right: Macro tracker -->
      <div class="card panel-right">
        <h3>Macro Tracker</h3>
        <div class="macros">
          <div>
            <div class="macro-row"><div>Protein</div><div><span id="protTotal">0 g</span><span id="protHit" class="target-hit" style="display:none">‚úì</span></div></div>
            <div class="progress" style="margin-top:6px;"><div id="protFill" class="fill" style="width:0%"></div></div>
          </div>

          <div>
            <div class="macro-row"><div>Carbs</div><div><span id="carbTotal">0 g</span><span id="carbHit" class="target-hit" style="display:none">‚úì</span></div></div>
            <div class="progress" style="margin-top:6px;"><div id="carbFill" class="fill" style="width:0%"></div></div>
          </div>

          <div>
            <div class="macro-row"><div>Fat</div><div><span id="fatTotal">0 g</span><span id="fatHit" class="target-hit" style="display:none">‚úì</span></div></div>
            <div class="progress" style="margin-top:6px;"><div id="fatFill" class="fill" style="width:0%"></div></div>
          </div>

          <div>
            <div class="macro-row"><div>Calories</div><div><span id="calTotal">0 kcal</span><span id="calHit" class="target-hit" style="display:none">‚úì</span></div></div>
            <div class="progress" style="margin-top:6px;"><div id="calFill" class="fill" style="width:0%"></div></div>
          </div>

          <div style="border-top:1px dashed rgba(255,255,255,0.03);padding-top:10px;margin-top:12px">
            <div style="margin-bottom:10px">
              <label for="fitnessGoal" style="display:block;margin-bottom:6px;font-size:13px;color:var(--muted);text-transform:uppercase;letter-spacing:0.5px">Fitness Goal</label>
              <select id="fitnessGoal" style="width:100%;padding:10px;border-radius:8px;background:#fff;border:1px solid #e6e6e6;color:#111;font-size:14px;cursor:pointer">
                <option value="weight-loss">Weight Loss üî•</option>
                <option value="muscle-gain">Muscle Gain üí™</option>
                <option value="weight-gain">Weight Gain ‚¨ÜÔ∏è</option>
                <option value="balanced" selected>Physically Fit / Balanced üèÉ</option>
              </select>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-top:12px"><div class="small muted">Suggested Daily Targets</div><div class="small muted">(g)</div></div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <input id="targetProtein" type="number" value="120" style="flex:1;padding:8px;border-radius:8px;background:#fff;border:1px solid #e6e6e6;color:#111" />
              <input id="targetCarbs" type="number" value="250" style="flex:1;padding:8px;border-radius:8px;background:#fff;border:1px solid #e6e6e6;color:#111" />
              <input id="targetFat" type="number" value="70" style="flex:1;padding:8px;border-radius:8px;background:#fff;border:1px solid #e6e6e6;color:#111" />
              <input id="targetCalories" type="number" value="2000" style="flex:1;padding:8px;border-radius:8px;background:#fff;border:1px solid #e6e6e6;color:#111" />
            </div>
            <div style="display:flex;gap:8px;margin-top:8px;justify-content:flex-end"><button id="saveTargets" class="btn" style="padding:8px 10px">Save</button></div>
          </div>

          <div id="targetSuccessMsg" style="display:none;margin-top:16px"></div>

        </div>
      </div>
    </div>

    <!-- Bottom panel: horizontal selected-day viewer -->
    <div class="bottom-panel">
      <div class="panel-header">Selected Day: <span id="selectedLabel">‚Äî</span></div>
      <div class="small muted">Scroll horizontally to view all meals for this date</div>
      <div id="selectedMeals" class="meals-list">No day selected.</div>
    </div>

  </div>

  <!-- About NutriFit Modal -->
  <div id="aboutModal" class="about-modal">
    <div class="about-modal-content">
      <button class="about-modal-close" onclick="closeAboutModal()">&times;</button>
      
      <!-- LEFT: Text -->
      <div class="about-text">
        <div class="eyebrow">
          <span class="eyebrow-dot"></span>
          <span>About</span>
          <span>NutriFit</span>
        </div>

        <h1 class="about-title">ABOUT NUTRIFIT</h1>

        <p class="about-tagline">
          The foundation of a sound, happy life starts with what you nourish yourself with.
        </p>

        <p class="about-body">
          NutriFit holds the view that the appropriate nutrition is the foundation of a sound and happy life.
          Our mission is to enhance people's lives with new and research-based solutions that encourage
          individuals to make informed, healthy choices and develop long-term exercise habits.
        </p>

        <p class="about-body">
          With accuracy and intent, NutriFit allows users to effortlessly keep track of their daily food
          consumption, get a grip on the nutritional values, and reach their individual wellness goals.
          It really does not matter if you are going for a new fitness adventure or just keeping a balanced
          lifestyle, NutriFit will always be there with the right tools and insights for your development ‚Äî
          whenever and wherever.
        </p>

        <p class="about-body">
          Not only are we a nutrition website but also we are a community of people that inspire each other
          to reach a healthier state. The NutriFit brand does not just count calories; it is a river of
          power, growth, and health that starts from within and expands outside.
        </p>
      </div>

      <!-- RIGHT: NutriFit Logo -->
      <div class="about-graphic-wrapper">
        <div class="watermelon-card">
          <img src="NutriFit.png" alt="NutriFit Logo" style="width: 80%; height: auto; object-fit: contain;">
        </div>
      </div>
    </div>
  </div>

  <!-- Terms and Conditions Modal -->
  <div id="termsModal" class="terms-modal">
    <div class="terms-modal-content">
      <button class="terms-modal-close" onclick="closeTermsModal()">&times;</button>
      
      <div class="terms-header">
        <div class="terms-icon">üìÑ</div>
        <h1 class="terms-title">Terms and Conditions</h1>
      </div>

      <div class="terms-content">
        <p>
          By creating an account with NutriFit, you agree to our use of your personal data to provide personalized health and fitness services. You also agree not to misuse the platform, share false information, or violate any applicable laws. NutriFit is not a substitute for professional medical advice. Always consult your physician before beginning any fitness program.
        </p>
      </div>
    </div>
  </div>
  <script src="Meal log.js"></script>
</body>
</html>
